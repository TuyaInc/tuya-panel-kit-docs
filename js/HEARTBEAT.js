var HEARTBEAT={ref:0,delta:100,onBeat:()=>{},connect(){top===self?(window.addEventListener("message",(e=>{const t=e.data||{};"HEARTBEAT"===t.type&&(HEARTBEAT.ref=t.value)})),setInterval((e=>{HEARTBEAT.onBeat(HEARTBEAT.ref!==e.ref),e.ref=HEARTBEAT.ref}),HEARTBEAT.delta,{ref:-1})):setInterval((()=>{top.postMessage({type:"HEARTBEAT",value:Date.now()},"*")}),HEARTBEAT.delta)}};HEARTBEAT.connect();